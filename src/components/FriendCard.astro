---
interface Props {
	title: string;
	url: string;
	avatar: string;
	description: string;
	category?: string;
}

const { title, url, avatar, description, category } = Astro.props;
---

<div class="friend-card card-base rounded-[var(--radius-large)] p-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
	<a href={url} target="_blank" rel="noopener noreferrer" class="block">
		<div class="flex items-center space-x-4">
			<div class="flex-shrink-0">
				<img 
					src={avatar} 
					alt={`${title} avatar`}
					class="w-12 h-12 rounded-full object-cover"
					loading="lazy"
				/>
			</div>
			<div class="flex-1 min-w-0">
				<h3 class="text-lg font-semibold text-[var(--primary)] truncate">
					{title}
				</h3>
				{category && (
					<span class="inline-block px-2 py-1 text-xs bg-[var(--btn-bg)] text-[var(--btn-text)] rounded-full mb-2">
						{category}
					</span>
				)}
				<p class="text-sm text-[var(--card-text-color-main)] line-clamp-2">
					{description}
				</p>
			</div>
		</div>
	</a>
</div>

<style>
.friend-card {
	background: var(--card-bg);
	border: 1px solid var(--line-divider);
}

.friend-card:hover {
	background: var(--card-bg-hover);
}

.line-clamp-2 {
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}
</style>